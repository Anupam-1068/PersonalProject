<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog logicalFilePath="db.changelog-1.0.xml" xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <changeSet author="anupam.krishna" id="book_review_table">
        <sql splitStatements="false">
            DROP TABLE IF EXISTS book;
            CREATE TABLE book (
                                  id SERIAL NOT NULL,
                                  title VARCHAR(255),
                                  author VARCHAR(255),
                                  description TEXT,
                                  copies INT,
            copies_available INT,
            category VARCHAR(100),
            img VARCHAR(255),
            PRIMARY KEY (id)
        );

            DROP TABLE IF EXISTS review;
            CREATE TABLE review (
                                    id SERIAL PRIMARY KEY,
                                    user_email VARCHAR(255),
                                    date DATE,
                                    rating INT,
            book_id INT,
            review_description TEXT,
            FOREIGN KEY (book_id) REFERENCES book(id) ON DELETE CASCADE
            );
        </sql>
    </changeSet>



</databaseChangeLog>